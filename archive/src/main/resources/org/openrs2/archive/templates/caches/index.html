<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
	<head>
		<title>OpenRS2 Archive</title>
		<link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.min.css" />
	</head>
	<body>
		<main class="container">
			<table class="table table-striped table-bordered table-hover">
				<thead class="thead-dark">
					<tr>
						<th>Game</th>
						<th>Build</th>
						<th>Timestamp</th>
						<th>Name</th>
						<th>Indexes</th>
						<th>Groups</th>
						<th>Keys</th>
						<th>Download</th>
					</tr>
				</thead>
				<tbody>
					<!--/*@thymesVar id="caches" type="java.util.List<org.openrs2.archive.cache.CacheExporter.Cache>"*/-->
					<tr th:each="cache : ${caches}">
						<td th:text="${cache.game}">runescape</td>
						<td th:text="${cache.build}">550</td>
						<td th:text="${#temporals.formatISO(cache.timestamp)}"></td>
						<td th:text="${cache.name}"></td>
						<td th:text="${cache.archiveStats}? ${cache.archiveStats.validIndexes} + ' / ' + ${cache.archiveStats.indexes} : 'Calculating...'">Calculating...</td>
						<td th:text="${cache.groupStats}? ${cache.groupStats.validGroups} + ' / ' + ${cache.groupStats.groups} : 'Calculating...'">Calculating...</td>
						<td th:text="${cache.groupStats}? ${cache.groupStats.validKeys} + ' / ' + ${cache.groupStats.keys} : 'Calculating...'">Calculating...</td>
						<td>
							<a th:href="${'/caches/' + cache.id + '.zip'}" class="btn btn-primary btn-sm">Cache</a>
							<a th:href="${'/caches/' + cache.id + '.json'}" class="btn btn-primary btn-sm">Keys</a>
						</td>
					</tr>
				</tbody>
			</table>
		</main>
	</body>
</html>
